<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhg.javakc.modules.smscke.relation.dao.RelationDao">


<!--	<resultMap id="StudentMap2" type="com.zhg.javakc.modules.smscke.relation.entity.RelationEntity">-->
<!--		<id property="relationId" column="RELATION_ID" />-->
<!--		-->
<!--		<association property="organizationEntity" resultMap="com.zhg.javakc.modules.smscke.organization.entity.OrganizationEntity" />-->
<!--	</resultMap>-->


	<select id="findList" resultType="com.zhg.javakc.modules.smscke.relation.entity.RelationEntity">
<!--		SELECT-->
<!--		RELATION_ID "relationId",-->
<!--		ORGANIZATION_NAME "organizationId",-->
<!--		SUPPLIER_ID "supplierId",-->
<!--		MATERIALS_ID "materialsId",-->
<!--		TAX_RATE "taxRate",-->
<!--		RECEIVE_ORGANIZATION_ID "receiveOrganizationId"-->
<!--		FROM SMSCKE_SM_RELATION R,SMSCKE_ORGANIZATION D WHERE 1=1 AND R.ORGANIZATION_ID=D.ORGANIZATION_ID-->

		SELECT
		RELATION_ID "relationId",
		O.ORGANIZATION_NAME "organizationId",
		SUPPLIER_NAME "supplierId",
		MATERIALS_NAME "materialsId",
		TAX_RATE "taxRate",
		O1.ORGANIZATION_NAME "receiveOrganizationId"
		FROM SMSCKE_SM_RELATION R
		LEFT JOIN SMSCKE_ORGANIZATION O ON R.ORGANIZATION_ID=O.ORGANIZATION_ID
		LEFT JOIN SMSCKE_ORGANIZATION O1 ON R.RECEIVE_ORGANIZATION_ID=O1.ORGANIZATION_ID ,SMSCKE_SUPPLIER S,SMSCKE_MATERIALS M
		WHERE R.SUPPLIER_ID=S.SUPPLIER_ID AND R.MATERIALS_ID=M.MATERIALS_ID
	</select>



	
</mapper>